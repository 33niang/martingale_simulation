# C语言 & OpenMP 并行模拟马丁格尔策略 (Martingale Strategy Parallel Simulator)

这是一个使用C语言和OpenMP构建的高性能并行计算程序，用于模拟经典的马丁格尔（Martingale）赌博策略。本项目通过大规模的蒙特卡洛模拟，旨在探究不同风险偏好下的策略表现。

程序内置了两种**运行模式**和三种**下注模式**，可以在启动时通过交互式菜单进行选择，具有高度的灵活性。

## ✨ 主要功能

* **高性能**: 基于C语言和OpenMP实现，能够充分利用多核CPU进行并行计算。
* **多种模式**:
    * **两种运行模式**: 包括用于宏观统计的“基准测试模式”和用于微观分析的“详细追踪模式”。
    * **三种下注模式**: 包括“严格”、“宽松/All-in”和“重置为1”三种不同风险偏好的策略。
* **统计学可靠性**: 修复了伪随机数生成器(LCG)的常见陷阱，确保了公平的概率。
* **大规模模拟支持**: 核心计数变量使用 `long long` 类型，支持超过21亿次的海量模拟。
* **用户友好**: 通过启动时的交互式菜单选择模式，无需修改代码或使用命令行参数。
* **动态进度条**: 在基准测试模式下实时显示模拟进度。

## ⚙️ 模式说明

#### 运行模式 (Run Modes)
程序启动后，您需要首先选择一种运行模式：
* **模式 1: 基准测试模式 (Benchmark Mode)**: 用于进行大规模模拟，以计算策略在宏观统计上的长期胜率和败率。
* **模式 2: 详细追踪模式 (Detailed Trace Mode)**: 用于观察一次完整的游戏是如何进行的，帮助理解策略的细节和资金波动。

#### 下注模式 (Betting Modes)
接着，您需要选择一种下注模式，它决定了当资金不足以支付下一次翻倍赌注时的决策：
* **模式 0: 宽松 / All-in 模式**: 玩家会将所有剩余的本金作为赌注，进行最后一搏。这是最常见的模拟方式，长期成功率趋近50%。
* **模式 1: 严格模式**: 玩家直接放弃，本轮游戏立即判定为失败。这种模式风险最高，成功率最低。
* **模式 2: Reset-to-1 模式**: 玩家放弃本次翻倍，并将赌注重置为基础赌注，重新开始一个新的下注序列。这种模式最保守，成功率相对更高。

## 🚀 如何编译和运行

1.  **编译**: 使用支持 OpenMP 的 C 编译器（如 GCC）进行编译，并开启优化：
    ```bash
    gcc -O3 -fopenmp main.c -o martingale_simulator
    ```
2.  **运行**: 直接执行程序：
    ```bash
    # Windows
    .\martingale_simulator.exe
    # Linux / macOS
    ./martingale_simulator
    ```
3.  **交互选择**: 程序启动后，根据屏幕提示，依次输入数字选择“运行模式”和“下注模式”。

### 输出示例
#### 运行模式 1 (基准测试)
